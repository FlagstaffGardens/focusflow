# FocusFlow default configuration
PORT=3000
DATA_DIR=./data
# For Docker builds, override to /app/data via compose.env
# HOST_PORT=3000           # Optional: host binding. Set to 0 to let Docker assign a random free port (recommended behind Traefik/Dokploy).

# Optional: simple HTTP Basic Auth for the UI/API
BASIC_AUTH_USER=
BASIC_AUTH_PASSWORD=

# Optional: transcription via AssemblyAI
ASSEMBLYAI_API_KEY=

# Required for summarization
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com
OPENAI_MODEL=gpt-4

# Rate limiting (per IP)
# RATE_LIMIT_WINDOW_MS=60000
# RATE_LIMIT_MAX_REQUESTS=60

# Prompt template override (default points to prompts/meeting_summary.md)
# PROMPT_PATH=prompts/meeting_summary.md

# ===== V2: Database (PostgreSQL) =====
DATABASE_URL=postgresql://postgres:password@localhost:5432/focusflow

# ===== V2: Google Drive Integration =====
# Service account key (either inline JSON or a path to a JSON file)
GOOGLE_SERVICE_ACCOUNT_KEY=
# Google Drive folder ID (from URL: https://drive.google.com/drive/folders/YOUR_FOLDER_ID)
GOOGLE_DRIVE_FOLDER_ID=
# Comma-separated list of allowed user emails
ALLOWED_USERS=your-email@gmail.com

# ===== V2: Notion Integration (optional) =====
NOTION_API_KEY=
NOTION_DATABASE_ID=

# ===== V2: Cron Security =====
# Secret token for polling endpoint
CRON_SECRET=

# ===== V2: Auto-Processing (Incoming Calls) =====
# Enable background auto-processing of eligible jobs
AUTO_PROCESS_ENABLED=true
# Cron schedule for auto-processor (default: every minute)
AUTO_PROCESS_CRON=*/1 * * * *
# Directions to auto-process: incoming | incoming,outgoing
AUTO_PROCESS_DIRECTIONS=incoming
# Minimum call duration in seconds to auto-process
AUTO_MIN_DURATION=20
# Max jobs claimed per tick
AUTO_MAX_BATCH=3
# Max parallel jobs per instance
AUTO_CONCURRENCY=1
# Only process jobs discovered after startup (or AUTO_PROCESS_SINCE)
# If false, AUTO_PROCESS_SINCE is ignored and ALL eligible jobs are processed
AUTO_PROCESS_ONLY_FUTURE=true
# Optional ISO timestamp cutoff; if set and ONLY_FUTURE=true, only process jobs with discovered_at >= this value
# Example: 2025-10-07T00:00:00Z
# AUTO_PROCESS_SINCE=

# Max retries before a job is excluded from auto-claiming
AUTO_MAX_RETRIES=3
